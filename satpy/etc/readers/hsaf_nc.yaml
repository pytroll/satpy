reader:
  name: hsaf_nc
  short_name: Hydrology SAF
  long_name: "H SAF products in NetCDF4 format"
  description: |
    Reader configuration for H SAF H60/H60B, H63 and H90 NetCDF files
    containing rain rate (rr and acc_rr) and quality index (qind).
  status: Alpha
  supports_fsspec: false
  sensors: [hsaf]
  reader: !!python/name:satpy.readers.core.yaml_reader.GEOFlippableFileYAMLReader

file_types:
  hsaf_h60_nc:
    file_patterns:
      # internally compressed
      - 'h60_{start_time:%Y%m%d_%H%M}_{suffix}.nc'
      # externally compressed
      - 'h60_{start_time:%Y%m%d_%H%M}_{suffix}.nc.gz'
      # externally compressed
      - 'S-HSAF-h60_{start_time:%Y%m%d_%H%M}_{suffix}.nc.gz'
      # uncompressed (might still be internally compressed)
      - 'S-HSAF-h60_{start_time:%Y%m%d_%H%M}_{suffix}.nc'
    area: msg_seviri_fes_3km
    resolution: 3000
    file_reader: !!python/name:satpy.readers.hsaf_nc.HSAFNCFileHandler
  hsaf_h63_nc:
    file_patterns:
      # internally compressed
      - 'h63_{start_time:%Y%m%d_%H%M}_{suffix}.nc'
      # externally compressed
      - 'h63_{start_time:%Y%m%d_%H%M}_{suffix}.nc.gz'
      # externally compressed
      - 'S-HSAF-h63_{start_time:%Y%m%d_%H%M}_{suffix}.nc.gz'
      # uncompressed (might still be internally compressed)
      - 'S-HSAF-h63_{start_time:%Y%m%d_%H%M}_{suffix}.nc'
    area: msg_seviri_iodc_3km
    resolution: 3000
    file_reader: !!python/name:satpy.readers.hsaf_nc.HSAFNCFileHandler
  hsaf_h90_nc:
    file_patterns:
      # internally compressed
      - 'h90_{start_time:%Y%m%d_%H%M}_{suffix}.nc'
      # externally compressed
      - 'h90_{start_time:%Y%m%d_%H%M}_{suffix}.nc.gz'
      # externally compressed
      - 'S-HSAF-h90_{start_time:%Y%m%d_%H%M}_{suffix}.nc.gz'
      # uncompressed (might still be internally compressed)
      - 'S-HSAF-h90_{start_time:%Y%m%d_%H%M}_{suffix}.nc'
    area: msg_seviri_iodc_3km
    resolution: 3000
    file_reader: !!python/name:satpy.readers.hsaf_nc.HSAFNCFileHandler

datasets:
  acc_rr:
    name: acc_rr
    file_key: acc_rr
    file_type: [hsaf_h90_nc]
    standard_name: rain_rate
    long_name: "Accumulated Precipitation"
    units: "mm"
    sensor: hsaf
  rr:
    name: rr
    file_key: rr
    file_type: [hsaf_h60_nc, hsaf_h63_nc]
    standard_name: rain_rate
    long_name: "Instantaneous Rain Rate"
    units: "mm/h"
    sensor: hsaf
  qind:
    name: qind
    file_key: qind
    file_type: [hsaf_h60_nc, hsaf_h63_nc, hsaf_h90_nc]
    standard_name: quality_index
    long_name: "Pixel Quality Index"
    units: "%"
    sensor: hsaf
